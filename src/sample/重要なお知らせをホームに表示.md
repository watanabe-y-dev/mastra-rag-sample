# 重要なお知らせをホームに表示

**バージョン:** 1.0

**作成日:** 2025-09-30

**作成者:** プロダクトマネージャー

**最終更新日:** 2025-09-30

## 1. 機能概要

### 1.1 製品ビジョン

ユーザーが必ず訪れるホーム画面のファーストビューに重要なお知らせを表示することで、システム障害やメンテナンス情報、重要な告知を確実にユーザーに伝達し、問い合わせの削減とユーザー体験の向上を実現する。

### 1.2 機能の目的

現在のプッシュ通知やお知らせ一覧画面による情報伝達では、重要な情報がユーザーに確実に届かない課題がある。ホーム画面という全ユーザーがアクセスする場所に重要なお知らせを表示することで、情報伝達の確実性を高める。

### 1.3 対象ユーザー

- **プライマリユーザー**: アプリの全ユーザー（重要な情報を受け取る側）
- **セカンダリユーザー**: 管理者・運営担当者（お知らせを配信する側）

### 1.4 課題・ニーズ定義

**背景**: 現在、システム障害やメンテナンス情報、重要な告知はプッシュ通知やお知らせ一覧画面で伝達しているが、ユーザーが気づかない、見逃すケースが発生している。

**課題/ニーズ**: より視認性が高く、全てのユーザーがアクセスするホーム画面で重要な情報を確実に伝達する必要がある。

## 2. ソリューション

### 2.1 提案するソリューション

ホーム画面の上部（ファーストビュー）に重要なお知らせ表示コンポーネントを新設し、管理画面から設定された緊急度の高いお知らせを自動表示する。お知らせをタップすることで詳細なお知らせページに遷移できる仕組みを提供する。

### 2.2 期待する行動変化

重要なお知らせをホーム画面に表示することで、より多くのユーザーが重要な情報に気づき、適切な行動（メンテナンス時間の回避、新機能の活用など）を取れるようになると信じています。

### 2.3 競合差別化ポイント

- **視認性の高い配置**: ファーストビューという最も目につく場所への配置
- **落ち着いたデザイン**: 派手すぎず、視認性を保ちながらユーザー体験を損なわないカラーとデザイン
- **管理画面連携**: 既存のお知らせ機能との連携による運用効率の向上

## 3. 機能要件

### 3.1 コア機能

### 3.1.1 お知らせ表示機能

- ホーム画面上部にお知らせバナーを表示
- お知らせタイトル（1〜2行程度）の表示
    - **タイトル**: 43文字までは表示される
- 遷移先への矢印表示

### 3.1.2 遷移機能

- お知らせ全体（リンク）をタップした際の詳細ページへの遷移（必須）
    - ディープリンク対応

### 3.1.3 表示制御機能

- 表示すべきお知らせが存在しない場合のコンポーネント非表示（トルツメ）
- 緊急フラグが設定されたお知らせの自動表示

### 3.1.4 管理機能

- **既存の管理画面**
    - タイトル
    - 本文
    - 表示期間の設定機能
    - 掲載スイッチ
- **新たに付け加えるべき機能**
- 既存のお知らせにHOMEに掲載フラグを立てる
- タイトルはお知らせと同じものが自動反映される
- 重要度でカラーを選択できるようにする
    - ピンク
    - グレー

- 文字数のバリデーションはかけずに管理画面に推奨文字数を表示（43文字）
- ピンクとグレーの重要なお知らせは同時に
    - 2つ以上だそうとした際（重要度ラベルを追加しようとしたタイミング）で「すでに重要なお知らせを表示しています」を表示されるようにします

## 4. 非機能要件

### 4.1 パフォーマンス要件

- **表示速度**: ホーム画面の初期表示時間に影響を与えない（追加遅延100ms以内）
- **API応答時間**: お知らせ取得APIの応答時間は500ms以内
- **キャッシュ**: お知らせ情報の適切なキャッシュによる表示速度の確保

### 4.2 セキュリティ要件

- **認証**: 管理画面でのお知らせ設定には適切な認証・認可が必要
- **入力検証**: XSS攻撃を防ぐためのテキスト入力の適切なサニタイズ
- **アクセス制御**: お知らせ管理機能への適切なアクセス制御

### 4.3 互換性・統合性

- **既存お知らせ機能**: 現在のお知らせ機能との連携
- **管理画面**: 既存の管理画面への機能追加
- **プラットフォーム**: iOS/Android両プラットフォームでの一貫した動作

### 4.4 ユーザビリティ要件

- **視認性**: 重要な情報として認識できる適切なデザイン
- **操作性**: タップ領域の十分な確保
- **アクセシビリティ**: スクリーンリーダー対応、適切なコントラスト比の確保
